<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>æ¼”å“¡é›»å½±æŸ¥è©¢</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-dark text-light p-4">
    <div class="container">
        <h1 class="mb-4">ğŸ­ æ¼”å“¡é›»å½±æŸ¥è©¢</h1>

        <!-- æœå°‹æ¡† -->
        <div class="input-group mb-3">
            <input type="text" id="actorInput" class="form-control" placeholder="è¼¸å…¥æ¼”å“¡åç¨±...">
            <button class="btn btn-success" onclick="searchActor()">æŸ¥è©¢</button>
        </div>

        <!-- çµæœå€ -->
        <div id="actorResult" class="row g-4"></div>
    </div>

    <script>
        const apiKey = "0f79586eb9d92afa2b7266f7928b055c";
        const imageBase = "https://image.tmdb.org/t/p/w500";

        async function searchActor() {
            const query = document.getElementById("actorInput").value.trim();
            if (!query) return;

            // å…ˆæŸ¥æ¼”å“¡
            const res = await fetch(`https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${query}&language=zh-TW`);
            const data = await res.json();

            if (data.results.length > 0) {
                const actor = data.results[0]; // å…ˆå–ç¬¬ä¸€å€‹æ¼”å“¡
                const actorId = actor.id;

                // æŸ¥æ¼”å“¡çš„é›»å½±
                const creditsRes = await fetch(`https://api.themoviedb.org/3/person/${actorId}/movie_credits?api_key=${apiKey}&language=zh-TW`);
                const credits = await creditsRes.json();

                // æŠŠæ¼”å“¡çš„æ‰€æœ‰é›»å½±é¡¯ç¤ºå‡ºä¾†
                let moviesHtml = `
                <div class="mt-3">
                    <h2>${actor.name} çš„é›»å½±ä½œå“ (${credits.cast.length} éƒ¨)</h2>
                </div>
                `;

                moviesHtml += credits.cast.map(movie => `
          <div class="col-md-3 mb-3">
            <div class="card bg-secondary text-light h-100">
              <img src="${movie.poster_path ? imageBase + movie.poster_path : ''}" 
                   class="card-img-top" alt="${movie.title}">
              <div class="card-body">
                <h5 class="card-title">${movie.title}</h5>
                <p class="card-text">ä¸Šæ˜ å¹´ä»½ï¼š${movie.release_date ? movie.release_date.slice(0, 4) : 'æœªçŸ¥'}</p>
                <p class="card-text">è§’è‰²ï¼š${movie.character || 'æœªæä¾›'}</p>
              </div>
            </div>
          </div>
        `).join("");

                document.getElementById("actorResult").innerHTML = `<div class="row">${moviesHtml}</div>`;
            } else {
                document.getElementById("actorResult").innerHTML = `<p>æ‰¾ä¸åˆ°è©²æ¼”å“¡ ğŸ˜¢</p>`;
            }
        }
    </script>
</body>

</html>